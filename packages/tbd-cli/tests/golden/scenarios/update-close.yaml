name: update-close
description: Update and close an issue
results:
  - command: tbd
    args:
      - create
      - Issue to modify
      - -t
      - bug
    exitCode: 0
    stdout: |
      ✓ Created bd-[ULID]: Issue to modify
    stderr: ''
  - command: tbd
    args:
      - update
      - is-[ULID]
      - --priority
      - '0'
      - --title
      - Updated bug
    exitCode: 1
    stdout: ''
    stderr: |
      error: unknown option '--title'
  - command: tbd
    args:
      - close
      - is-[ULID]
      - --reason
      - fixed
    exitCode: 0
    stdout: |
      ✓ Closed bd-[ULID]
    stderr: ''
  - command: tbd
    args:
      - show
      - is-[ULID]
      - --json
    exitCode: 0
    stdout: |
      {
        "type": "is",
        "id": "is-[ULID]",
        "version": 2,
        "created_at": "[TIMESTAMP]",
        "updated_at": "[TIMESTAMP]",
        "title": "Issue to modify",
        "kind": "bug",
        "status": "closed",
        "priority": 2,
        "labels": [],
        "dependencies": [],
        "closed_at": "[TIMESTAMP]",
        "close_reason": "fixed",
        "displayId": "bd-[ULID]"
      }
    stderr: ''
